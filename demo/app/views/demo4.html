{% extends 'demo-template.html' %}

{% block canvases %}
  <svg width="400" height="400" id="seen-canvas-1"></svg>
  <svg width="400" height="400" id="seen-canvas-2"></svg>
  <svg width="400" height="400" id="seen-canvas-3"></svg>
{% endblock %}

{% block demo %}
<script type="text/coffeescript" src="/demo.coffee"></script>
<script type="text/coffeescript">
  w = 400
  h = 400

  cube = seen.Shapes.cube()
  cube.scale(190)
  for surface in cube.surfaces
    surface.fill = new seen.Material seen.C.hsl(Math.random(), 0.5, 0.4)

  model = seen.demo.model()
  model.add(cube)

  scene1 = new seen.Scene
    model  : model
    camera : new seen.Camera
      viewport   : seen.Viewports.center(w,h)
      camera     : seen.Matrices.identity.scale(0.5).rotx(Math.PI/6).roty(-Math.PI/4)
      projection : seen.Projections.perspective()

  scene2 = new seen.Scene
    model  : model
    camera : new seen.Camera
      viewport   : seen.Viewports.center(w,h)
      projection : seen.Projections.ortho()

  scene3 = new seen.Scene
    model  : model
    camera : new seen.Camera
      viewport   : seen.Viewports.center(w,h)
      camera     : seen.Matrices.identity.roty(-Math.PI/2)
      projection : seen.Projections.ortho()

  new seen.SvgCanvas(document.getElementById('seen-canvas-1'))
    .layer('background', new seen.SvgFillRect(w, h))
    .layer('scene', new seen.SvgRenderer(scene1))

  new seen.SvgCanvas(document.getElementById('seen-canvas-2'))
    .layer('background', new seen.SvgFillRect(w, h))
    .layer('scene', new seen.SvgRenderer(scene2))

  new seen.SvgCanvas(document.getElementById('seen-canvas-3'))
    .layer('background', new seen.SvgFillRect(w, h))
    .layer('scene', new seen.SvgRenderer(scene3))

  scenes = [scene1, scene2, scene3]
  s.render() for s in scenes

</script>
{% endblock %}


