{"version":3,"file":"seen.js.map","sources":["/Users/bdwyer/git/sandbox/seen/dist/seen.js"],"names":["seen","_base","exports","this","call","Util","defaults","obj","opts","prop","_results","push","ARRAY_CACHE","IDENTITY","POINT_CACHE","Array","Matrix","m","slice","prototype","copy","reset","_multiply","b","_multiplyM","c","i","j","_i","_j","_rotx","theta","ct","rm","st","Math","cos","sin","_roty","_rotz","_translate","x","y","z","_scale","sx","sy","sz","multiply","multiplyM","rotx","roty","rotz","translate","scale","M","func","args","ctor","child","result","apply","Object","arguments","Matrices","identity","flipX","flipY","flipZ","Transformable","matrix","transform","Point","w","r","set","p","normalize","_normalize","add","q","_add","subtract","_subtract","cross","_cross","dot","n","divide","_divide","sqrt","Points","Z","toJSON","P","X","Y","ZERO","Phong","__bind","fn","me","__hasProp","hasOwnProperty","__extends","parent","constructor","key","__super__","Color","g","a","hex","toString","length","style","clear","Colors","rgb","charAt","substring","parseInt","hsl","h","s","l","hue2rgb","t","C","black","white","gray","Light","_super","point","color","intensity","exponent","getFaceColor","lights","surface","Shaders","phong","RenderSurface","points","projection","transformed","_initTransformationSet","projected","_update","update","_arraysEqual","_math","val","_len","_ref","barycenter","normal","v0","v1","applyClip","sp","_len1","Surface","painter","Painters","path","getRenderSurface","cullBackfaces","fill","stroke","render","Shape","type","surfaces","eachSurface","f","forEach","Group","children","append","group","eachShape","eachTransformedShape","PathPainter","TextPainter","_ref1","Painter","paint","canvas","fill-opacity","stroke-width","_ref2","text","text-anchor","anchor","_this","Shapes","_cubeCoordinateMap","_mapPointsToSurfaces","coordinateMap","coords","spts","joints","unitshape","unitcube","bipedSkeleton","attachSideJoint","makeArm","makeLeg","makeSkeleton","skeleton","upperBody","torso","pelvis","shoulder","upperArm","elbow","foreArm","upperLeg","knee","lowerLeg","foot","rootjoint","joint","root","leftArm","rightArm","leftLeg","rightLeg","leftShoulder","rightShoulder","leftHip","rightHip","cube","rectangle","point1","point2","compose","min","max","tetrahedron","extrude","distance","back","front","len","reverse","arrow","thickness","tailLength","tailWidth","headLength","headPointiness","htw","custom","Projections","perspectiveFov","fovyInDegrees","tan","PI","perspective","orthoExtent","extent","ortho","left","right","bottom","top","near","far","dx","dy","dz","near2","Viewports","centerOrigin","width","height","SvgIterativeRenderer","_line","_svg","_svgRaw","name","$","document","createElementNS","d3","svg","line","d","_g","hideUnused","childNodes","setAttribute","el","_manifest","str","textContent","current","appendChild","tagName","replaceChild","SvgCanvas","layers","background","addClass","appendTo","scene","overlay","component","addTo","renderer","SvgRenderDebug","_renderEnd","_renderStart","_text","css","attr","_fps","on","_renderStartTime","Date","e","frameTime","NaN","toFixed","SvgFillRect","Scene","options","renderSurfaces","dispatch","rebind","shader","ambients","viewport","startRenderLoop","msecDelay","setInterval","beforeRender","afterRender","shape","sort"],"mappings":"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"}